(self.webpackChunkgiphy_show=self.webpackChunkgiphy_show||[]).push([[179],{67:(e,t,n)=>{"use strict";var i=n(294),a=n(935),r=n(319),o=n.n(r),c=n(38),s=n.n(c),l=n(917),u=n(184),d=n.n(u),h=n(510),m=i.forwardRef((function(e,t){var n=e.thumb,a=e.source,r=e.width,o=e.height,c=i.useState(!1),l=s()(c,2),u=l[0],m=l[1];return i.createElement("div",null,!u&&i.createElement("img",{className:d()(h.Z.image,h.Z.thumb),width:r,height:o,src:n,style:{visibility:u?"hidden":"visible"}}),i.createElement("img",{loading:"lazy",onLoad:function(){m(!0)},width:r,height:o,className:d()(h.Z.image,h.Z.full),style:{opacity:u?1:0},ref:t,src:a}))})),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return fetch("https://api.giphy.com/v1/gifs/trending?api_key=".concat("sXpGFDGZs0Dv1mmNFvYaGUvYwKX0PWIh","&limit=").concat(10,"&offset=").concat(e)).then((function(e){return e.json()})).then((function(e){return e.data.reduce((function(e,t){var n,i,a,r,c,s,l,u;return[].concat(o()(e),[{id:t.id,source:null===(n=t.images)||void 0===n||null===(i=n.fixed_height_downsampled)||void 0===i?void 0:i.webp,title:t.title,width:null===(a=t.images)||void 0===a||null===(r=a.fixed_height_downsampled)||void 0===r?void 0:r.width,heigth:null==t||null===(c=t.images)||void 0===c||null===(s=c.fixed_height_downsampled)||void 0===s?void 0:s.height,thumb:null==t||null===(l=t.images)||void 0===l||null===(u=l.preview_gif)||void 0===u?void 0:u.url}])}),[])})).catch((function(e){console.log(e)}))},v=function(e,t){return fetch("https://api.giphy.com/v1/gifs/search?q=".concat(e,"&api_key=").concat("sXpGFDGZs0Dv1mmNFvYaGUvYwKX0PWIh","&limit=").concat(10,"&offset=").concat(t)).then((function(e){return e.json()})).then((function(e){return e.data.reduce((function(e,t){var n,i,a,r,c,s;return[].concat(o()(e),[{id:t.id,source:null===(n=t.images)||void 0===n||null===(i=n.fixed_height_downsampled)||void 0===i?void 0:i.webp,title:t.title,width:null===(a=t.images)||void 0===a||null===(r=a.fixed_height_downsampled)||void 0===r?void 0:r.width,heigth:null==t||null===(c=t.images)||void 0===c||null===(s=c.fixed_height_downsampled)||void 0===s?void 0:s.height}])}),[])})).catch((function(e){console.log(e)}))};function f(e,t){var n=(0,i.useRef)(null);return(0,i.useCallback)((function(t){n.current&&n.current.disconnect(),n.current=new IntersectionObserver((function(t){var n=s()(t,1)[0];e(n.isIntersecting)})),t&&n.current.observe(t)}),t)}var p=n(799);function w(){var e=(0,i.useState)(1),t=s()(e,2),n=t[0],a=t[1],r=(0,i.useState)([]),c=s()(r,2),u=c[0],d=c[1],h=f((function(e){e&&g(n).then((function(e){a((function(e){return e+10})),d(o()(new Set([].concat(o()(u),o()(e)))))}))}),[n,u]);return i.useEffect((function(){g().then((function(e){d(e)}))}),[]),i.createElement("div",{className:p.Z.trendingContainer},u&&u.map((function(e){return i.createElement(m,{key:(0,l.x0)(),thumb:e.thumb,source:e.source,ref:h,width:e.width,height:e.height})})))}var b=n(283),_=n(154),x=n.n(_),y=n(479),Z=n.n(y),E=n(912),C=function(e){var t=e.id,n=e.labelText,a=e.register,r=e.className,o=e.variant,c=void 0===o?"secondary":o,s=Z()(e,["id","labelText","register","className","variant"]);return i.createElement("label",{htmlFor:t,className:d()(r,E.Z.LabelInputContainer)},n,i.createElement("input",x()({},s,{name:t,id:t,ref:a,className:d()(r,E.Z.base,E.Z[c])})))},N=n(74),S=function(e){var t=e.children,n=e.variant,a=void 0===n?"primary":n,r=Z()(e,["children","variant"]);return i.createElement("button",x()({className:d()(N.Z.base,N.Z[a])},r),t)},k=(n(24),n(422)),I=function(e){var t=e.children,n=e.message,a=void 0===n?"":n,r=e.title,o=Z()(e,["children","message","title"]);return i.createElement("div",x()({className:d()(k.Z[a],k.Z.base)},o),r&&i.createElement("h1",null,r),t)},G=n(857),O=n(436),R=n(625),B=function(e){var t=e.images,n=e.image,a=e.toggleLightBox,r=(0,i.useState)({}),o=s()(r,2),c=o[0],l=o[1];return(0,i.useEffect)((function(){l(n)}),[]),i.createElement(i.Fragment,null,i.createElement("div",{className:G.Z.imageLightbox,"data-testid":"lightBox",onClick:function(){return a()}},i.createElement(R.G,{"data-testid":"close-lightbox",icon:O.NBC,size:"2x",color:"white",className:G.Z.exitKey,onClick:function(){return a()}}),i.createElement(R.G,{"data-testid":"prev-navigation",icon:O.jio,size:"2x",color:"white",className:G.Z.navigationArrow,onClick:function(e){e.stopPropagation();var n=t.indexOf(c);n<=0&&a();var i=t[n-1];l(i)}}),i.createElement("img",{"data-testid":"image-lightbox",src:c.source,className:G.Z.lightBoxImage,width:c.width,height:c.heigth}),i.createElement(R.G,{"data-testid":"next-navigation",icon:O.Bc6,size:"2x",color:"white",className:G.Z.navigationArrow,onClick:function(e){e.stopPropagation();var n=t.indexOf(c);n>=t.length-1&&a();var i=t[n+1];l(i)}})))},P=n(680);function z(){var e=(0,i.useState)(""),t=s()(e,2),n=t[0],a=t[1],r=(0,i.useState)(1),c=s()(r,2),u=c[0],d=c[1],h=(0,i.useState)([]),m=s()(h,2),g=m[0],p=m[1],w=(0,i.useState)(!1),_=s()(w,2),x=_[0],y=_[1],Z=(0,i.useState)(),E=s()(Z,2),N=E[0],k=E[1],G=(0,b.cI)(),O=G.register,R=G.errors,z=G.handleSubmit,D=G.reset,F=f((function(e){e&&v(n,u).then((function(e){d((function(e){return e+10})),p([].concat(o()(g),o()(e)))}))}),[n,u,g]);return i.createElement(i.Fragment,null,i.createElement(I,null,i.createElement("form",{className:P.Z.searchContainer,onSubmit:z((function(){v(n).then((function(e){p(e)})),D(g)}))},i.createElement(C,{id:"search",type:"text",name:"search",labelText:"Search",variant:"primary",placeholder:"try out","data-testid":"search",value:n,register:O({required:"your search field is required",pattern:{value:/^[a-z ,.'-]+$/i,message:"Invalid search format"}}),onChange:function(e){return a(e.target.value)}}),R.search&&i.createElement("p",null,"Put anything in mind "),i.createElement(S,{"data-testid":"search-button",type:"submit",variant:"secondary"},"Get some Giphies!"))),i.createElement("div",{className:P.Z.imagesContainer},g&&g.map((function(e){return i.createElement("img",{loading:"lazy","data-testid":"gif",ref:F,key:(0,l.x0)(),className:P.Z.imageBox,src:e.source,title:e.title,width:e.width,height:e.height,onClick:function(){return function(e){y(!0);var t=g.find((function(t){return t.id===e}));k(t)}(e.id)}})}))),x&&i.createElement(B,{images:g,image:N,toggleLightBox:function(){return y(!1)}}))}function D(){return i.createElement(i.Fragment,null,i.createElement(z,null),i.createElement(I,{title:"Trending"}),i.createElement(w,null))}n(54),a.render(i.createElement(D,null),document.getElementById("root"))},54:(e,t,n)=>{"use strict";var i=n(783)(e.id,{locals:!1});e.hot.dispose(i),e.hot.accept(void 0,i)},857:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={imageLightbox:"_39PjI_ivyJMpPkuiJNW-gm",navigationArrow:"_2U-4DsOPZqqtkjTC8obdBo",lightBoxImage:"_3hJUsp61kZHuQioo3T2K1P",exitKey:"_3qj2LGn8_HpPUYV5CIf9j-"};var a=n(783)(e.id,{locals:!0});e.hot.dispose(a)},680:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={searchContainer:"_2JCwF9gnZDJSi7gjwobONc",imagesContainer:"_3dQaTtnnUHPavBlQLWywp1",imageBox:"_3C_3xe7YmHpMY8-MdXuIix"};var a=n(783)(e.id,{locals:!0});e.hot.dispose(a)},799:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={trendingContainer:"_2mmx7RpnOzjgAhtDK99gTz"};var a=n(783)(e.id,{locals:!0});e.hot.dispose(a)},74:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={base:"dOL54gQ1jh-iA7S10G8dW",primary:"_2mPgy6kxQ2OprARBYRJ4Sz",secondary:"_2USRFc3HuDOprMLEm-o44o"};var a=n(783)(e.id,{locals:!0});e.hot.dispose(a)},510:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={image:"_33JnRfBnhyNyKiKRq_OOSw",imageContainer:"K8wJTHuM87K11HOYalZ1R",full:"_1Svy3X23nOzZnX9LMTc4js",thumb:"_5sTcn7FVZFX7Gw2ufB44D"};var a=n(783)(e.id,{locals:!0});e.hot.dispose(a)},912:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={base:"QF7So9IXmSPMtX44TmkXR",primary:"_2ZvpDuUqAOucANWWMDSh5X",secondary:"_3ahllp-muoieMHboWe5gxR",LabelInputContainer:"-zmcQ9CGMdJDll6oURKwy",labelInputContainer:"-zmcQ9CGMdJDll6oURKwy"};var a=n(783)(e.id,{locals:!0});e.hot.dispose(a)},24:(e,t,n)=>{"use strict";var i=n(783)(e.id,{locals:!0});e.hot.dispose(i)},422:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={base:"_2U1lsxaib7Ie5naIROGslg",danger:"_3ld0O6uHx59zmR370gud-U",warning:"_3sHxdpgeRdv_UPJ5jXPYd5"};var a=n(783)(e.id,{locals:!0});e.hot.dispose(a)}},0,[[67,666,216]]]);